#############################################################################
# Makefile for building ezxpsx/ezxpsx
# Generated by tmake at 12:50, 2007/04/02
#     Project: ezxpsx
#    Template: app
#############################################################################

####### Compiler, tools and options
TOOLPREFIX:=	/arm-eabi
QTDIR	:=	$(TOOLPREFIX)/lib/qt-2.3.8
EZXDIR	:=	$(TOOLPREFIX)/lib/ezx-z6
CC	=	/arm-eabi/arm-linux-gnueabi/bin/arm-linux-gcc
CXX	=	/arm-eabi/arm-linux-gnueabi/bin/arm-linux-g++
CFLAGS	=	-pipe -fsigned-char -Wall -W -Os -D__LINUX__ -DNO_DEBUG $(INCPATH)
CXXFLAGS=	-pipe -DQWS -fno-exceptions -fno-rtti -fsigned-char -Wall -W -Os -D__LINUX__ -DNO_DEBUG $(INCPATH) 
INCPATH	=	-I$(QTDIR)/include -I$(EZXDIR)/include -I $(TOOLPREFIX)/arm-linux-gnueabi/include -I/$(TOOLPREFIX)/SDL/include
LINK	=	/arm-eabi/arm-linux-gnueabi/bin/arm-linux-g++
LFLAGS	=	
LIBS	=	$(SUBLIBS) -L$(TOOLPREFIX)/arm-linux-gnueabi/lib -L$(QTDIR)/lib -L$(EZXDIR)/lib -lm -lz -lqte-mt -lezxpm -ljpeg -lezxappbase -lezxtapi-xscale-r -llog_util -llighting -lezxam -lezxsound
MOC	=	$(QTDIR)/bin/moc
UIC	=	$(QTDIR)/bin/uic

TAR	=	tar -cf
GZIP	=	gzip -9f

####### Files

HEADERS =	main.h \
		configfile.h \
		gamewidget.h \
		ezxaudio.h \
		font.h \
		psx_player.h \
		PsxCommon.h \
		plugins.h \
		R3000A.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Sio.h \
		Spu.h \
		Mdec.h \
		Gte.h \
		Misc.h \
		CdRom.h \
		System.h \
		GPU_externals.h \
		prim.h \
		soft.h
SOURCES =	main.cpp \
		gamewidget.cpp \
		ezxaudio.cpp \
		font.cpp \
		psx_player.cpp \
		R3000A.c \
		PsxMem.c \
		PsxHw.c \
		PsxBios.c \
		PsxDma.c \
		PsxCounters.c \
		PsxHLE.c \
		Sio.c \
		Spu.c \
		Mdec.c \
		Gte.c \
		Misc.c \
		CdRom.c \
		PsxInterpreter.c \
		BCDCoder.c \
		plugins_CDR.cpp \
		plugins_SPU.cpp \
		plugins_PAD.cpp \
		plugins_GPU.cpp \
		plugins_NET.cpp \
		plugin.cpp \
		prim.cpp \
		soft.cpp \
		draw.cpp
OBJECTS =	.obj/main.o \
		.obj/gamewidget.o \
		.obj/ezxaudio.o \
		.obj/font.o \
		.obj/psx_player.o \
		.obj/R3000A.o \
		.obj/PsxMem.o \
		.obj/PsxHw.o \
		.obj/PsxBios.o \
		.obj/PsxDma.o \
		.obj/PsxCounters.o \
		.obj/PsxHLE.o \
		.obj/Sio.o \
		.obj/Spu.o \
		.obj/Mdec.o \
		.obj/Gte.o \
		.obj/Misc.o \
		.obj/CdRom.o \
		.obj/PsxInterpreter.o \
		.obj/BCDCoder.o \
		.obj/plugins_CDR.o \
		.obj/plugins_SPU.o \
		.obj/plugins_PAD.o \
		.obj/plugins_GPU.o \
		.obj/plugins_NET.o \
		.obj/plugin.o \
		.obj/prim.o \
		.obj/soft.o \
		.obj/draw.o
INTERFACES =	
UICDECLS =	
UICIMPLS =	
SRCMOC	=	.moc/moc_main.cpp \
		.moc/moc_gamewidget.cpp \
		.moc/moc_psx_player.cpp
OBJMOC	=	.obj/moc_main.o \
		.obj/moc_gamewidget.o \
		.obj/moc_psx_player.o
DIST	=	
TARGET	=	ezxpsx/ezxpsx
INTERFACE_DECL_PATH = .

####### Implicit rules

.SUFFIXES: .cpp .cxx .cc .C .c

.cpp.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.cxx.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.cc.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.C.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.c.o:
	$(CC) -c $(CFLAGS) $(INCPATH) -o $@ $<

####### Build rules


all: $(TARGET)

$(TARGET): $(UICDECLS) $(OBJECTS) $(OBJMOC) 
	$(LINK) $(LFLAGS) -o $(TARGET) $(OBJECTS) $(OBJMOC) $(LIBS)

moc: $(SRCMOC)

tmake: Makefile

Makefile: ezxpsx.pro
	tmake ezxpsx.pro -o Makefile

dist:
	$(TAR) ezxpsx.tar ezxpsx.pro $(SOURCES) $(HEADERS) $(INTERFACES) $(DIST)
	$(GZIP) ezxpsx.tar

clean:
	-rm -f $(OBJECTS) $(OBJMOC) $(SRCMOC) $(UICIMPLS) $(UICDECLS) $(TARGET)
	-rm -f *~ core

####### Sub-libraries


###### Combined headers


####### Compile

.obj/main.o: main.cpp \
		main.h \
		configfile.h \
		psx_player.h \
		gamewidget.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/main.o main.cpp

.obj/gamewidget.o: gamewidget.cpp \
		gamewidget.h \
		configfile.h \
		font.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/gamewidget.o gamewidget.cpp

.obj/ezxaudio.o: ezxaudio.cpp \
		ezxaudio.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/ezxaudio.o ezxaudio.cpp

.obj/font.o: font.cpp \
		font.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/font.o font.cpp

.obj/psx_player.o: psx_player.cpp \
		psx_player.h \
		gamewidget.h \
		ezxaudio.h \
		font.h \
		PsxCommon.h \
		System.h \
		R3000A.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Mdec.h \
		CdRom.h \
		Decode_XA.h \
		Sio.h \
		Spu.h \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Misc.h \
		Debug.h \
		Gte.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/psx_player.o psx_player.cpp

.obj/R3000A.o: R3000A.c \
		PsxCommon.h \
		System.h \
		R3000A.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Mdec.h \
		CdRom.h \
		Decode_XA.h \
		Sio.h \
		Spu.h \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Misc.h \
		Debug.h \
		Gte.h
	$(CC) -c $(CFLAGS) $(INCPATH) -o .obj/R3000A.o R3000A.c

.obj/PsxMem.o: PsxMem.c \
		PsxCommon.h \
		System.h \
		R3000A.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Mdec.h \
		CdRom.h \
		Decode_XA.h \
		Sio.h \
		Spu.h \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Misc.h \
		Debug.h \
		Gte.h
	$(CC) -c $(CFLAGS) $(INCPATH) -o .obj/PsxMem.o PsxMem.c

.obj/PsxHw.o: PsxHw.c \
		PsxCommon.h \
		System.h \
		R3000A.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Mdec.h \
		CdRom.h \
		Decode_XA.h \
		Sio.h \
		Spu.h \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Misc.h \
		Debug.h \
		Gte.h
	$(CC) -c $(CFLAGS) $(INCPATH) -o .obj/PsxHw.o PsxHw.c

.obj/PsxBios.o: PsxBios.c \
		PsxCommon.h \
		System.h \
		R3000A.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Mdec.h \
		CdRom.h \
		Decode_XA.h \
		Sio.h \
		Spu.h \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Misc.h \
		Debug.h \
		Gte.h
	$(CC) -c $(CFLAGS) $(INCPATH) -o .obj/PsxBios.o PsxBios.c

.obj/PsxDma.o: PsxDma.c \
		PsxCommon.h \
		System.h \
		R3000A.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Mdec.h \
		CdRom.h \
		Decode_XA.h \
		Sio.h \
		Spu.h \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Misc.h \
		Debug.h \
		Gte.h
	$(CC) -c $(CFLAGS) $(INCPATH) -o .obj/PsxDma.o PsxDma.c

.obj/PsxCounters.o: PsxCounters.c \
		PsxCommon.h \
		System.h \
		R3000A.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Mdec.h \
		CdRom.h \
		Decode_XA.h \
		Sio.h \
		Spu.h \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Misc.h \
		Debug.h \
		Gte.h
	$(CC) -c $(CFLAGS) $(INCPATH) -o .obj/PsxCounters.o PsxCounters.c

.obj/PsxHLE.o: PsxHLE.c \
		PsxCommon.h \
		System.h \
		R3000A.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Mdec.h \
		CdRom.h \
		Decode_XA.h \
		Sio.h \
		Spu.h \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Misc.h \
		Debug.h \
		Gte.h
	$(CC) -c $(CFLAGS) $(INCPATH) -o .obj/PsxHLE.o PsxHLE.c

.obj/Sio.o: Sio.c \
		PsxCommon.h \
		System.h \
		R3000A.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Mdec.h \
		CdRom.h \
		Decode_XA.h \
		Sio.h \
		Spu.h \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Misc.h \
		Debug.h \
		Gte.h
	$(CC) -c $(CFLAGS) $(INCPATH) -o .obj/Sio.o Sio.c

.obj/Spu.o: Spu.c \
		PsxCommon.h \
		System.h \
		R3000A.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Mdec.h \
		CdRom.h \
		Decode_XA.h \
		Sio.h \
		Spu.h \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Misc.h \
		Debug.h \
		Gte.h
	$(CC) -c $(CFLAGS) $(INCPATH) -o .obj/Spu.o Spu.c

.obj/Mdec.o: Mdec.c \
		PsxCommon.h \
		System.h \
		R3000A.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Mdec.h \
		CdRom.h \
		Decode_XA.h \
		Sio.h \
		Spu.h \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Misc.h \
		Debug.h \
		Gte.h
	$(CC) -c $(CFLAGS) $(INCPATH) -o .obj/Mdec.o Mdec.c

.obj/Gte.o: Gte.c \
		Gte.h \
		R3000A.h \
		PsxCommon.h \
		System.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Mdec.h \
		CdRom.h \
		Decode_XA.h \
		Sio.h \
		Spu.h \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Misc.h \
		Debug.h
	$(CC) -c $(CFLAGS) $(INCPATH) -o .obj/Gte.o Gte.c

.obj/Misc.o: Misc.c \
		Coff.h \
		PsxCommon.h \
		System.h \
		R3000A.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Mdec.h \
		CdRom.h \
		Decode_XA.h \
		Sio.h \
		Spu.h \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Misc.h \
		Debug.h \
		Gte.h \
		BCDCoder.h
	$(CC) -c $(CFLAGS) $(INCPATH) -o .obj/Misc.o Misc.c

.obj/CdRom.o: CdRom.c \
		PsxCommon.h \
		System.h \
		R3000A.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Mdec.h \
		CdRom.h \
		Decode_XA.h \
		Sio.h \
		Spu.h \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Misc.h \
		Debug.h \
		Gte.h \
		BCDCoder.h
	$(CC) -c $(CFLAGS) $(INCPATH) -o .obj/CdRom.o CdRom.c

.obj/PsxInterpreter.o: PsxInterpreter.c \
		PsxCommon.h \
		System.h \
		R3000A.h \
		PsxMem.h \
		PsxHw.h \
		PsxBios.h \
		PsxDma.h \
		PsxCounters.h \
		PsxHLE.h \
		Mdec.h \
		CdRom.h \
		Decode_XA.h \
		Sio.h \
		Spu.h \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Misc.h \
		Debug.h \
		Gte.h
	$(CC) -c $(CFLAGS) $(INCPATH) -o .obj/PsxInterpreter.o PsxInterpreter.c

.obj/BCDCoder.o: BCDCoder.c
	$(CC) -c $(CFLAGS) $(INCPATH) -o .obj/BCDCoder.o BCDCoder.c

.obj/plugins_CDR.o: plugins_CDR.cpp \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Decode_XA.h \
		BCDCoder.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/plugins_CDR.o plugins_CDR.cpp

.obj/plugins_SPU.o: plugins_SPU.cpp \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Decode_XA.h \
		SPU_register.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/plugins_SPU.o plugins_SPU.cpp

.obj/plugins_PAD.o: plugins_PAD.cpp \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Decode_XA.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/plugins_PAD.o plugins_PAD.cpp

.obj/plugins_GPU.o: plugins_GPU.cpp \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Decode_XA.h \
		GPU_externals.h \
		draw.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/plugins_GPU.o plugins_GPU.cpp

.obj/plugins_NET.o: plugins_NET.cpp \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Decode_XA.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/plugins_NET.o plugins_NET.cpp

.obj/plugin.o: plugin.cpp \
		plugins.h \
		PSEmu_Plugin_Defs.h \
		Decode_XA.h \
		System.h \
		Spu.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/plugin.o plugin.cpp

.obj/prim.o: prim.cpp \
		GPU_externals.h \
		gpu.h \
		draw.h \
		soft.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/prim.o prim.cpp

.obj/soft.o: soft.cpp \
		GPU_externals.h \
		soft.h \
		gpu.h \
		prim.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/soft.o soft.cpp

.obj/draw.o: draw.cpp \
		GPU_externals.h \
		gpu.h \
		draw.h \
		prim.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/draw.o draw.cpp

.obj/moc_main.o: .moc/moc_main.cpp \
		main.h \
		configfile.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/moc_main.o .moc/moc_main.cpp

.obj/moc_gamewidget.o: .moc/moc_gamewidget.cpp \
		gamewidget.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/moc_gamewidget.o .moc/moc_gamewidget.cpp

.obj/moc_psx_player.o: .moc/moc_psx_player.cpp \
		psx_player.h \
		gamewidget.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/moc_psx_player.o .moc/moc_psx_player.cpp

.moc/moc_main.cpp: main.h
	$(MOC) main.h -o .moc/moc_main.cpp

.moc/moc_gamewidget.cpp: gamewidget.h
	$(MOC) gamewidget.h -o .moc/moc_gamewidget.cpp

.moc/moc_psx_player.cpp: psx_player.h
	$(MOC) psx_player.h -o .moc/moc_psx_player.cpp

